<html>
 <head>
	<style>
	.btn { border-top-left-radius: 5px; border-bottom-left-radius: 5px; margin-right:-4px; border-top-right-radius: 5px; border-bottom-right-radius: 5px;}
	.btng button{ border: 1px solid black; background-color: rgba(0,0,0,0); color: black; padding: 5px; } 
	.btng button:hover{ color:white; background-color: black; }
	 </style>
 <script>
	 var usegold = 0;
	 var usemoney = 0;
	 var succ = 0;
	 var tototal = 0;
		function calc(){
			var t1 = parseInt(document.getElementById("t1").value);
			var t2 = parseInt(document.getElementById("t2").value);
			var t3 = parseInt(document.getElementById("t3").value);
			var t1g = parseInt(document.getElementById("t1gold").value);
			var t2g = parseInt(document.getElementById("t2gold").value);
			var t3g = parseInt(document.getElementById("t3gold").value);
			var a1 = parseInt(document.getElementById("a1").value);
			var a2 = parseInt(document.getElementById("a2").value);
			var a3 = parseInt(document.getElementById("a3").value);
			var a1g = parseInt(document.getElementById("a1gold").value);
			var a2g = parseInt(document.getElementById("a2gold").value);
			var a3g = parseInt(document.getElementById("a3gold").value);
			var tog = parseInt(document.getElementById("togold").value);
			var total = document.getElementById("whatgold");
			var sol = document.getElementById("used");
			var tot = Math.ceil((t1*t1g)+(t2*t2g)+(t3*t3g)+(a1g*a1/10)+(a2g*a2)+(a3*a3g)+tog);
			var mon = Math.ceil(tot*1.8);
			total.innerHTML = "총 가격: "+tot+"골드 / 현금으로 환산시: "+mon+"원";
			sol.innerHTML = "총 사용한 골드: "+usegold+"골드 / 현금으로 환산시: "+usemoney+"원, 성공 횟수: "+succ+"/"+tototal;
		}
		function random(){
				var t1 = parseInt(document.getElementById("t1").value);
			var t2 = parseInt(document.getElementById("t2").value);
			var t3 = parseInt(document.getElementById("t3").value);
			var t1g = parseInt(document.getElementById("t1gold").value);
			var t2g = parseInt(document.getElementById("t2gold").value);
			var t3g = parseInt(document.getElementById("t3gold").value);
			var a1 = parseInt(document.getElementById("a1").value);
			var a2 = parseInt(document.getElementById("a2").value);
			var a3 = parseInt(document.getElementById("a3").value);
			var a1g = parseInt(document.getElementById("a1gold").value);
			var a2g = parseInt(document.getElementById("a2gold").value);
			var a3g = parseInt(document.getElementById("a3gold").value);
			var tog = parseInt(document.getElementById("togold").value);
			var total = document.getElementById("whatgold");
			var tot = Math.ceil((t1*t1g)+(t2*t2g)+(t3*t3g)+(a1g*a1/10)+(a2g*a2)+(a3*a3g)+tog);
			var mon = Math.ceil(tot*1.8);
			var sol = document.getElementById("used");
			usegold+=tot;
			usemoney+=mon;
			total.innerHTML = "총 가격: "+tot+"골드 / 현금으로 환산시: "+mon+"원";
			var per = parseInt(document.getElementById("percent").value);
			var rand = Math.random();
			if (rand < (per/100)){
				document.getElementById("j").innerHTML = "제련 성공!!";
				succ++;
				tototal++;
			}else{
				document.getElementById("j").innerHTML = "제련 실패..";
				tototal++;
			}
			sol.innerHTML = "총 사용한 골드: "+usegold+"골드 / 현금으로 환산시: "+usemoney+"원, 성공 횟수: "+succ+"/"+tototal;
		}
		function save(){
			var t1g = parseInt(document.getElementById("t1gold").value);
			var t2g = parseInt(document.getElementById("t2gold").value);
			var t3g = parseInt(document.getElementById("t3gold").value);
			var a1g = parseInt(document.getElementById("a1gold").value);
			var a2g = parseInt(document.getElementById("a2gold").value);
			var a3g = parseInt(document.getElementById("a3gold").value);
			var tog = parseInt(document.getElementById("togold").value);
			setCookie("t1g",t1g,90);
			setCookie("t2g",t2g,90);
			setCookie("t3g",t3g,90);
			setCookie("tog",tog,90);
			setCookie("a1g",a1g,90);
			setCookie("a2g",a2g,90);
			setCookie("a3g",a3g,90);
		}
		function load(){
			document.getElementById("t1gold").value = getCookie("t1g");
			document.getElementById("t2gold").value = getCookie("t2g");
			document.getElementById("t3gold").value = getCookie("t3g");
			document.getElementById("a1gold").value = getCookie("a1g");
			document.getElementById("a2gold").value = getCookie("a2g");
			document.getElementById("a3gold").value = getCookie("a3g");
			document.getElementById("togold").value = getCookie("tog");
		}
		var setCookie = function(name, value, exp) {
			var date = new Date();
			date.setTime(date.getTime() + exp*24*60*60*1000);
			document.cookie = name + '=' + value + ';expires=' + date.toUTCString() + ';path=/';
		};
		var getCookie = function(name) {
			var value = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');
			return value? value[2] : null;
		};

 </script>
 </head>
 <body> <center> <fieldset style="width: 700px;">
	은총: <input id="t1" style="text-align:right; width:45px;"></input>, 개당 <input id="t1gold" style="text-align:right; width:45px;"></input>골드<br>
	축복: <input id="t2" style="text-align:right; width:45px;"></input>, 개당 <input id="t2gold" style="text-align:right; width:45px;"></input>골드<br>
	가호: <input id="t3" style="text-align:right; width:45px;"></input>, 개당 <input id="t3gold" style="text-align:right; width:45px;"></input>골드<br>
	<br>
	확률: <input id="percent" style="text-align:right; width:45px;"></input>%<br>
	<br>
	파괴/수호석: <input id="a1" style="text-align:right; width:45px;"></input>개, 10개당 <input id="a1gold" style="text-align:right; width:45px;" ></input>골드<br>
	돌파석: <input id="a2" style="text-align:right; width:45px;"></input>개, 1개당 <input id="a2gold" style="text-align:right; width:45px;"></input>골드<br>
	융화 재료: <input id="a3" style="text-align:right; width:45px;"></input>개, 1개당 <input id="a3gold" style="text-align:right; width:45px;"></input>골드<br>
	제련 비용: <input id="togold" style="text-align:right; width:45px;"></input>골드<br>
	<div class="btng"><button onclick="calc()" class="btn">골드 계산</button> <button onclick="random()" class="btn">제련하기</button></div><br>
	<div id="whatgold">총 가격: 0골드 / 현금으로 환산시: 0원</div>
	<div id="j">제련 준비중..</div><br>
	<div id="used">총 사용한 골드: 0골드 / 현금으로 환산시: 0원, 성공 횟수: 0/0</div><br>
	<div class="btng"><button onclick="save()" class="btn">가격 저장</button> <button onclick="load()" class="btn">가격 불러오기</button></div>
</fieldset> </center>
 </body>
</html>
